
window.gamera = window.gamera || {};
window.gamera.fastlane = window.gamera.fastlane || [];
window.gamera.fastlane.push(function() {
  window.gamera.setConfig({"collectAdvertiserDomains":1,"curationRules":[{"id":"gamera_17","inverted":false,"placementIds":["MS0yLTE","MS0xLTM","MS00LTE","My0yLTE","My0xLTE","NC0xLTE","MS01LTI","My00LTE","NC0yLTE","My0zLTE","My01LTE","NC00LTE","NS0zLTE","NC0zLTE","MS0xLTQ","MS0yLTM","MS0xLTU","NS0yLTE","MS0zLTM"],"maxRenderSequence":5,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_14","inverted":false,"placementIds":["MS0xLTM","My0yLTE","NC0yLTE","My01LTE","NC00LTE","NS0zLTE","MS0yLTM","MS0zLTM"],"maxRenderSequence":3,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_22","inverted":false,"placementIds":["MS0xLTI","MS0yLTE","MS00LTE","MS0zLTE","MS01LTE","MS0yLTI","My0xLTE","Mi0zLTE","NC0xLTE","MS01LTI","My00LTE","My0zLTE","My01LTE","NC0zLTE","Mi0xLTI","NS0xLTI","MS0xLTQ","NC01LTE","MS0xLTU","NS0yLTE"],"maxRenderSequence":3,"maxViewportAdDensity":5,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_18","inverted":true,"placementIds":[],"maxRenderSequence":2,"maxViewportAdDensity":3,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_16","inverted":false,"placementIds":["NC00LTE"],"maxRenderSequence":5,"maxViewportAdDensity":2,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_24","inverted":false,"placementIds":["MS0yLTE","MS0xLTM","MS00LTE","NC0xLTE","MS01LTI","My00LTE","NC0yLTE","My0zLTE","My01LTE","NC00LTE","NC0zLTE","MS0xLTQ"],"maxRenderSequence":50,"maxViewportAdDensity":15,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]},{"id":"gamera_25","inverted":false,"placementIds":["MS0xLTM","NC0yLTE","My01LTE","NC00LTE"],"maxRenderSequence":5,"maxViewportAdDensity":6,"maxTimeOnPage":300,"segmentsInclusion":[],"segmentsExclusion":[],"target":["pbjs"]}],"placementStats":"pid,fr,vr,ctr,att,cpm2,cpm4,cpm6,cpm8\nMS0xLTE,86.11,49.83,0.26,6.0,0,0,0.0,0.27\nMS0xLTI,84.31,57.59,0.3,8.5,0,0,0.0,0.31\nMS0yLTE,87.89,45.31,0.31,2.5,0,0,0.0,0.6\nMS0zLTE,90.23,55.93,0.16,1.33,0,0,0.0,0.53\nMS00LTE,89.74,43.97,0.19,1.0,0,0,0.0,0.53\nMS0xLTM,81.01,59.62,0.22,6.0,0,0,0.0,0.36\nMS01LTE,87.81,44.63,0.25,1.0,0,0,0.0,0.54\nMy0yLTE,91.66,51.99,0.13,2.0,0,0,0.0,0.64\nMi0xLTE,84.58,44.13,0.19,1.0,0,0,0.0,0.48\nMy01LTE,92.52,79.88,0.05,2.0,0,0,0.0,0.7\nMi0yLTE,88.31,44.81,0.17,1.0,0,0,0.0,0.57\nNC0yLTE,94.16,72.55,0.28,2.0,0,0,0.0,0.62\nMS0yLTI,82.34,51.84,0.39,6.0,0,0,0.0,0.48\nMy0xLTE,90.78,44.53,0.24,1.5,0,0,0.0,0.6\nMS0zLTI,82.52,45.01,0.19,4.0,0,0,0.0,0.36\nMi0zLTE,89.61,44.9,0.21,1.0,0,0,0.0,0.73\nNC0xLTE,91.16,50.67,0.29,2.0,0,0,0.0,0.54\nMy00LTE,86.77,43.62,0.34,1.8,0,0,0.0,0.47\nMi01LTE,89.6,44.85,0.08,1.0,0,0,0.0,0.5\nMy0zLTE,89.41,47.5,0.24,2.0,0,0,0.0,0.67\nMi00LTE,88.82,44.44,0.33,0.67,0,0,0.0,0.46\nMS00LTI,81.21,45.74,0.25,3.0,0,0,0.0,0.26\nNS0xLTE,92.67,47.39,0.1,0.0,0,0,0.0,0.23\nNC0zLTE,89.56,50.0,0.2,2.0,0,0,0.0,0.5\nNC00LTE,85.6,62.77,0.62,2.0,0,0,0.0,0.43\nMS01LTI,84.0,48.35,0.37,2.0,0,0,0.0,0.17\nMS0xLTQ,72.66,54.15,0.55,4.0,0,0,0.0,0.34\nNS0zLTE,91.94,74.56,0.0,2.0,0,0,0.0,0.64\n"});
});

(()=>{"use strict";const e="__gameraDebug__",t="gamera.consentProceed",n="gamera.adRendered",i={AD_RENDERED:"adRendered",PAGE_SCROLL:"pageScroll",NEW_PAGE:"newPage",CUSTOM:"custom",ADD_DIMENSIONS:"addDimensions",ADD_METRICS:"addMetrics",PAGE_REVENUE:"pageRevenue",BID_WON:"bidWon"},r={AD_PLACEMENT_FOUND:"adPlacementFound",AD_PLACEMENT_GTAG_RENDERED:"adPlacementGtagRendered",AD_PLACEMENT_PBJS_RENDERED:"adPlacementPbjsRendered",AD_PLACEMENT_RENDERED:"adPlacementRendered",AD_PLACEMENT_VIEWABLE:"adPlacementViewable",AD_PLACEMENT_CLICKED:"adPlacementClicked",AD_PLACEMENT_PBJS_AUCTION_INIT:"adPlacementPbjsAuctionInit",PBJS_BID_CLICKED:"pbjsBidClicked",WEB_VITALS_CHANGED:"webVitalsChanged",SESSION_RESET:"sessionReset",SESSION_NEW_PAGE:"sessionNewPage",SESSION_PAGE_REVENUE_ADDED:"sessionPageRevenueAdded",SESSION_AD_PLACEMENTS_VISIBLE:"sessionAdPlacementsVisible",GAM_AD_REQUESTED:"gamAdRequested"},s={fr:"fill_rate",vr:"viewability",ctr:"ctr",att:"att",cpm2:"cpm2",cpm4:"cpm4",cpm6:"cpm6",cpm8:"cpm8"},a=["hb_pb","fs_pb"],o=["hb_adid","fs_adid"],d=5,c=new class{constructor(t){t||(t="warn"),window.location.search.indexOf(e)>-1&&(t="debug"),this.level=t}debug(e){"debug"===this.level&&console.log("%c Gamera [debug]: %c "+e,"background: black; color: orange","background: #373837; color: #ffffff")}info(e){"info"!==this.level&&"debug"!==this.level||console.log("%c Gamera [info]: %c "+e,"background: black; color: orange","background: blue; color: #ffffff")}warn(e){["info","warn","debug"].includes(this.level)&&console.log("%c Gamera [warn]: %c "+e,"background: black; color: orange","background: black; color: orange")}error(e){["info","warn","error","debug"].includes(this.level)&&console.log("%c Gamera [error]: %c "+e,"background: black; color: orange","background: red; color: #ffffff")}setLogLevel(e){this.level=e}}("none"),l=function(){let e=[];try{e=document.getElementsByTagName("main")}catch(e){}return e}();function u(){return function(){if(void 0!==window.scrollY)return Math.max(0,Math.round(window.scrollY));if(void 0!==window.pageYOffset)return Math.max(0,Math.round(window.pageYOffset));const e=document.documentElement,t=document.body;return Math.max(0,Math.round(e&&e.scrollTop||t&&t.scrollTop||0))}()||(1===l.length?l[0].scrollTop:0)}function g(){return window.document.documentElement&&window.document.documentElement.clientWidth||window.innerWidth||0}function m(){return window.document.documentElement&&window.document.documentElement.clientHeight||window.innerHeight||0}function p(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function h(e){let t=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return t?decodeURIComponent(t[2]):null}function f(e,t,n,i,r){let s="";if(n){let e=new Date;e.setTime(e.getTime()+60*n*60*1e3),s=e.toUTCString()}const a=r&&""!==r?` ;domain=${encodeURIComponent(r)}`:"",o=s&&""!==s?` ;expires=${s}`:"",d=null!=i&&"none"==i.toLowerCase()?"; Secure":"";document.cookie=`${e}=${encodeURIComponent(t)}${o}; path=/${a}${i?`; SameSite=${i}`:""}${d}`}function v(){return Math.floor(Date.now()/1e3)}function w(){try{return performance.now()}catch(e){return Date.now()}}function E(e,t){return e===t||JSON.stringify(e)===JSON.stringify(t)}function y(e){try{return e()}catch(e){}return null}function b(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}}function _(e,t){if(!e)return;let n=String(t).split(".");for(let t=0;t<n.length;t++)if(!(e=e[n[t]]))return e;return e}function S(e,t){return toString.call(e)===`[object ${t}]`}function A(e){return S(e,"Object")}function I(e){return S(e,"Function")}function P(e,...t){if(!t.length)return e;const n=t.shift();if(A(e)&&A(n))for(const t in n)A(n[t])?(e[t]||Object.assign(e,{[t]:{}}),P(e[t],n[t])):Array.isArray(n[t])?e[t]?Array.isArray(e[t])&&n[t].forEach((n=>{let i=1;for(let r=0;r<e[t].length;r++)if(E(e[t][r],n)){i=0;break}i&&e[t].push(n)})):Object.assign(e,{[t]:[...n[t]]}):Object.assign(e,{[t]:n[t]});return P(e,...t)}const D=function(e){const t={domain:"",hostname:"",params:{},path:""};if(!e)return t;try{const n=new URL(e);t.domain=n.hostname.split(".").slice(-2).join("."),t.hostname=n.hostname,t.path=n.pathname;const i=new URLSearchParams(n.search);for(const[e,n]of i)t.params[e.toLowerCase()]=decodeURIComponent(n)}catch(e){}return t}(function(e,t){const n=document.getElementById("__gamera__");if(n)return n.getAttribute("src");let i=document.querySelectorAll('script[src*="gamera.js"]');return 1===i.length?i[0].getAttribute("src"):void 0}()),T=function(){try{return window.self!==window.top}catch(e){return!0}}(),C={_ingestionHostname:D.hostname||"metrics.rapidedge.io",_ingestionPath:"/gamera/ingest",_domain:D.params.domain||"",_partner:D.params.partner||"",_ltv:+D.params.ltv||0,_wait:+D.params.wait||0,_tpcs:+D.params.tpcs||0,_webMetrics:+D.params.web_metrics||1,_userId:D.params.user_id||"",_sessionId:D.params.session_id||"",_audience:+D.params.audience||0,_clientSideMetrics:+D.params.client_side_metrics||0,_disableAdPlacementDiscovery:0,_disableGptCuration:0,_collectPlacementHistory:0,_collectAdvertiserDomains:0,_enableSegtaxFetch:0,_curationRules:[],_placementStats:"",get domain(){return this._domain},get partner(){return this._partner},get ltv(){return this._ltv},get wait(){return this._wait},get tpcs(){return this._tpcs},get webMetrics(){return this._webMetrics},get userId(){return this._userId},get sessionId(){return this._sessionId},get endpoint(){return`https://${this._ingestionHostname}${this._ingestionPath}`},get audience(){return this._audience},get clientSideMetrics(){return this._clientSideMetrics},get disableAdPlacementDiscovery(){return T?1:this._disableAdPlacementDiscovery},get disableGptCuration(){return T?1:this._disableGptCuration},get collectPlacementHistory(){return this._collectPlacementHistory},get collectPbjsSummary(){return!this._collectPlacementHistory},get collectAdvertiserDomains(){return this._collectAdvertiserDomains},get enableSegtaxFetch(){return T?0:this._enableSegtaxFetch},get curationRules(){return T?[]:this._curationRules},get placementStats(){return T?"":this._placementStats},get runningInIframe(){return T},setConfig(e){e.hasOwnProperty("ingestionHostname")&&(this._ingestionHostname=e.ingestionHostname),e.hasOwnProperty("ingestionPath")&&(this._ingestionPath=e.ingestionPath),e.hasOwnProperty("domain")&&(this._domain=e.domain),e.hasOwnProperty("partner")&&(this._partner=e.partner),e.hasOwnProperty("ltv")&&(this._ltv=+e.ltv),e.hasOwnProperty("wait")&&(this._wait=+e.wait),e.hasOwnProperty("tpcs")&&(this._tpcs=+e.tpcs),e.hasOwnProperty("webMetrics")&&(this._webMetrics=+e.webMetrics),e.hasOwnProperty("userId")&&"string"==typeof e.userId&&(this._userId=e.userId),e.hasOwnProperty("sessionId")&&"string"==typeof e.sessionId&&(this._sessionId=e.sessionId),e.hasOwnProperty("audience")&&(this._audience=+e.audience),e.hasOwnProperty("clientSideMetrics")&&(this._clientSideMetrics=+e.clientSideMetrics),e.hasOwnProperty("disableAdPlacementDiscovery")&&(this._disableAdPlacementDiscovery=+e.disableAdPlacementDiscovery),e.hasOwnProperty("disableGptCuration")&&(this._disableGptCuration=+e.disableGptCuration),e.hasOwnProperty("collectPlacementHistory")&&(this._collectPlacementHistory=+e.collectPlacementHistory),e.hasOwnProperty("collectAdvertiserDomains")&&(this._collectAdvertiserDomains=+e.collectAdvertiserDomains),e.hasOwnProperty("enableSegtaxFetch")&&(this._enableSegtaxFetch=+e.enableSegtaxFetch),e.hasOwnProperty("curationRules")&&Array.isArray(e.curationRules)&&(this._curationRules=e.curationRules),e.hasOwnProperty("placementStats")&&(this._placementStats=e.placementStats)}};function R(e){var t=new XMLHttpRequest,n="metrics.rapidedge.io";if(-1===n.indexOf("EXCEPTION_STORE_HOSTNAME")){var i="https://"+n+"/error/ingest",r={message:e.message,stack:e.stack},s=JSON.stringify(r);t.open("POST",i,!0),t.setRequestHeader("Content-Type","application/json"),t.send(s)}}const N={};function L(e,t){e&&"string"==typeof e?t&&"function"==typeof t?(N[e]=N[e]||[],N[e].push(t)):c.error(`Invalid handler: ${t}`):c.error(`Invalid event name: ${e}`)}function O(e,t){e&&"string"==typeof e?N[e]&&N[e].forEach((e=>{try{e(t)}catch(e){c.error(`Error in event handler: ${e}`)}})):c.error(`Invalid event name: ${e}`)}const M=window.IntersectionObserver&&window.IntersectionObserverEntry&&window.IntersectionObserverEntry.prototype&&"intersectionRatio"in window.IntersectionObserverEntry.prototype,k=["banner"];let x=e=>k.indexOf(e.mediaType)>-1;const $=e=>({root:null,rootMargin:"0px",threshold:e.width*e.height>242e3?.3:.5}),j={};function V(e){const t=j[e.universalPlacementId];t&&(t.disconnect(),delete j[e.universalPlacementId])}const B=e=>(t,n)=>{t.forEach((t=>{t.isIntersecting?(c.debug(`viewable timer starting for element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId}`),t.target.view_tracker=setTimeout((()=>{n.unobserve(t.target),V(e),c.debug(`element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId} was viewed`),e.history.push({timestamp:v(),type:r.AD_PLACEMENT_VIEWABLE}),O(r.AD_PLACEMENT_VIEWABLE,e),e.viewabilityTracker=null}),1e3)):(c.debug(`element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId} is out of view`),t.target.view_tracker&&(clearTimeout(t.target.view_tracker),c.debug(`viewable timer stopped for element: ${t.target.getAttribute("id")} placement: ${e.universalPlacementId}`)))}))},U=()=>({root:null,rootMargin:"0px",threshold:.5});let G=null;function W(){return new IntersectionObserver(((e,t)=>{const n=v();e.forEach((e=>{if(e.isIntersecting){const t=e.target.getAttribute("id");if(!t)return void c.error("attentionIO: tracked element has no id");const i=H[t];if(!i)return void c.error(`attentionIO: adPlacement not found for element: ${t}`);i.attentionState.isVisible=!0,i.attentionState.lastEnteredViewport=n}else{const t=e.target.getAttribute("id");if(!t)return void c.error("attentionIO: tracked element has no id");const i=H[t];if(!i)return void c.error(`attentionIO: adPlacement not found for element: ${t}`);i.attentionState.isVisible&&(i.attentionState.pastTimeInViewport+=n-i.attentionState.lastEnteredViewport),i.attentionState.isVisible=!1,i.attentionState.lastExitedViewport=n}}));let i=0;for(const[e,t]of Object.entries(H))t.attentionState.isVisible&&i++;i>0&&O(r.SESSION_AD_PLACEMENTS_VISIBLE,{count:i})}),U())}const H={},J={};let F={};function q(e){if(!M||!e)return;if(!G)return void(H[e.divId]||(F[e.divId]=e));if(J[e.divId]){if(e.attentionState&&e.attentionState.isVisible){const t=v();e.attentionState.pastTimeInViewport+=t-e.attentionState.lastEnteredViewport,e.attentionState.lastEnteredViewport=t,e.attentionState.lastExitedViewport=t}G.unobserve(J[e.divId]),delete J[e.divId],delete H[e.divId]}const t=document.getElementById(e.divId);t?(e.attentionState=e.attentionState||{isVisible:!1,pastTimeInViewport:0,lastEnteredViewport:0,lastExitedViewport:0},H[e.divId]=e,J[e.divId]=t,G.observe(t)):c.error(`attentionIO: element ${e.divId} not found`)}let X=!1;const z=[],K={};function Y(){return z}const Q={};let Z={};function ee(e,t){const n=ce(e);if(!n)return;const i=v();n.pbjsRenderTS=i,n.pbjsBid=t,n.clicked=!1,n.history.push({timestamp:i,type:r.AD_PLACEMENT_PBJS_RENDERED,data:{adUnitCode:e.code,bidder:t.bidder,cpm:t.cpm}}),O(r.AD_PLACEMENT_PBJS_RENDERED,n),(!n.gtagRenderTS||n.gtagRenderTS<i-5)&&(n.renders++,O(r.AD_PLACEMENT_RENDERED,n),q(n)),n.viewabilityTracker&&"pbjs"!==n.viewabilityTracker||(n.viewabilityTracker="pbjs",function(e){if(!M||!e)return;if(!e.pbjsBid||!x(e.pbjsBid))return void V(e);V(e);const t=new IntersectionObserver(B(e),$(e.pbjsBid)),n=document.getElementById(e.divId);n?(t.observe(n),j[e.universalPlacementId]=t):c.error(`element: ${e.divId} not found`)}(n))}function te(e){const t=e.adUnits;if(!t||!Array.isArray(t))return;const n={};t.forEach((e=>{if(n[e.code])return;n[e.code]=!0;const t=ce(e);t&&O(r.AD_PLACEMENT_PBJS_AUCTION_INIT,t)}))}function ne(e){if(!A(e))return void c.error("adUnitPlacements is not a plain object, skipping");const t=[];Object.keys(e).forEach((n=>{const i=e[n];if(i&&"string"==typeof i){Q[n]=i;try{for(let e=0;e<z.length;e++){const t=z[e];if(t.divId===i)return void(K[n]=t)}const e=se(i,"");if(!e)return;t.push(e),K[n]=e}catch(e){c.error(`while adding ad unit placement ${n}->${i}: ${e}`)}}})),ae(t)}function ie(){if(!X)return void c.debug("googletag not loaded yet, skipping ad slot discovery");let e=[];try{e=window.googletag.pubads().getSlots()}catch(e){c.error(`while getting slots: ${e}`)}const t=[];e.forEach((e=>{try{const n=e.getSlotElementId(),i=e.getAdUnitPath();for(let e=0;e<z.length;e++){const t=z[e];if(t.divId===n)return void(t.gpid&&t.gpid===i||(c.debug(`updating gpid for placement ${n} from ${t.gpid} to ${i}`),t.gpid=i))}const r=se(n,i);if(!r)return;t.push(r)}catch(e){c.error(`while discovering new ad slot: ${e}`)}})),ae(t)}function re(){ie(),ne(b(Q))}function se(e,t){const n=document.getElementById(e);if(!n)return void c.debug(`adDiv not found for elementId ${e}, skipping placement creation`);const i=n.getBoundingClientRect(),s=i.top+u(),a=m();if(0===a)return void c.error("viewportHeight is 0, skipping placement creation");const o=a/d;let l=Math.floor(s/o)%d+1,g=Math.floor(s/a)+1;return s===a&&(g=1,l=d),{divId:e,gpid:t,row:l,viewport:g,div:n,x:window.scrollX+i.left,y:s,history:[{timestamp:v(),type:r.AD_PLACEMENT_FOUND}],renders:0}}function ae(e){if(!e||0===e.length)return;e.sort(((e,t)=>{switch(!0){case e.viewport<t.viewport:return-1;case e.viewport>t.viewport:return 1;case e.row<t.row:return-1;case e.row>t.row:return 1;case e.div===t.div:return 0;case e.div.compareDocumentPosition(t.div)&Node.DOCUMENT_POSITION_FOLLOWING:return-1;default:return 1}}));let t=0,n=0;e.forEach((e=>{const i=e.row+(e.viewport-1)*d;i>n&&(n=i,t=0,z.forEach((n=>{n.viewport===e.viewport&&n.row===e.row&&(t=Math.max(t,n.position))}))),t++,e.position=t,e.coordinates=`${e.viewport}-${e.row}-${e.position}`,e.universalPlacementId=btoa(e.coordinates).replace(/=/g,""),e.stats=Z[e.universalPlacementId]||null,delete e.div})),e.length>0&&(c.debug(`added ${e.length} new ad placements`),z.push(...e),e.forEach((e=>{O(r.AD_PLACEMENT_FOUND,e)})))}function oe(){if(!document||!document.body)return void c.debug("document.body not found, skipping row grid drawing");const e=document.getElementById("row-grid-container");e&&e.remove();const t=document.createElement("div");t.id="row-grid-container",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height=`${document.body.scrollHeight}px`,t.style.pointerEvents="none",t.style.zIndex="9999";const n=window.innerHeight,i=n/d,r=Math.ceil(document.body.scrollHeight/i);for(let e=0;e<=r;e++){const r=e*i,s=Math.floor(r/n)+1,a=document.createElement("div");a.style.position="absolute",a.style.top=`${r}px`,a.style.left="0",a.style.width="100%",a.style.height="0",a.style.borderTop="1px dashed red",a.style.boxSizing="border-box";const o=document.createElement("div");o.style.position="absolute",o.style.top=`${r}px`,o.style.left="0",o.style.backgroundColor="rgba(255, 0, 0, 0.5)",o.style.color="white",o.style.fontSize="12px",o.style.padding="2px 4px",o.style.pointerEvents="none",o.textContent=`Row ${s}-${e%d+1}`,t.appendChild(a),t.appendChild(o)}const s=v();z.forEach((e=>{const n=document.getElementById(e.divId);if(!n)return;const i=n.getBoundingClientRect(),r=document.createElement("div");r.style.position="absolute",r.style.top=`${i.top+u()}px`,r.style.left=`${i.left+window.scrollX}px`,r.style.width=`${i.width}px`,r.style.height=`${i.height}px`,r.style.border="2px solid blue",r.style.backgroundColor="rgba(0, 0, 255, 0.1)",r.style.pointerEvents="none",r.style.zIndex="9999";const a=document.createElement("div");if(a.style.position="absolute",a.style.top="0",a.style.left="0",a.style.backgroundColor="rgba(0, 0, 255, 0.8)",a.style.color="white",a.style.fontSize="12px",a.style.padding="4px",a.style.maxWidth="100%",a.style.overflow="hidden",a.style.textOverflow="ellipsis",a.style.whiteSpace="pre-wrap",a.textContent=`ID: ${e.universalPlacementId}\nCOORD: ${e.coordinates}\nDIV: ${e.divId}\nGPID: ${e.gpid}`,e.attentionState){let t=e.attentionState.pastTimeInViewport;e.attentionState.isVisible&&(t+=s-e.attentionState.lastEnteredViewport),a.textContent+=`\nATT: ${t}`,a.textContent+=`\nisVisible: ${e.attentionState.isVisible}`}r.appendChild(a),t.appendChild(r)})),document.body.appendChild(t)}function de(){const e=[];return window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)?(window._pbjsGlobals.forEach((t=>{const n=window[t]&&window[t].adUnits||[];Array.isArray(n)&&n.length>0&&e.push(...n)})),e):e}function ce(e){if(!e||!e.code)return null;const t=Y(),n=K[e.code];if(n)return n;for(const n of t)if(e.code===n.divId)return n;for(const n of t){if(!n.gpid)continue;const t=_(e,"ortb2Imp.ext.gpid");if(e.code===n.gpid||t===n.gpid)return n}return null}function le(e){if(!e||"function"!=typeof e.getSlotElementId||"function"!=typeof e.getAdUnitPath)return null;const t=e.getSlotElementId(),n=e.getAdUnitPath(),i=Y();for(const e of i)if(t===e.divId&&n===e.gpid)return e;for(const e of i)if(t===e.divId)return e;return null}let ue,ge=0,me=0;function pe(){if(!document||!document.activeElement||"IFRAME"!==document.activeElement.nodeName)return;if(ge>me)return;const e=Y();let t=document.activeElement;for(let n=0;n<3&&(t=t.parentNode,t);n++){if(!t.id)continue;const n=e.filter((e=>e.divId&&e.divId===t.id));if(!n.length)continue;let i=0,s=null;if(n.forEach((e=>{e.gtagRenderTS&&e.gtagRenderTS>i&&(i=e.gtagRenderTS,s=e),e.pbjsRenderTS&&e.pbjsRenderTS>i&&(i=e.pbjsRenderTS,s=e)})),!s)break;if(s.clicked)break;let a=!1;for(let e=s.history.length-1;e>=0;e--){const t=s.history[e];if(t.type===r.AD_PLACEMENT_VIEWABLE){a=!0;break}if(t.type===r.AD_PLACEMENT_GTAG_RENDERED||t.type===r.AD_PLACEMENT_PBJS_RENDERED)break}if(!a)break;if(s.clicked=!0,s.history.push({timestamp:v(),type:r.AD_PLACEMENT_CLICKED}),O(r.AD_PLACEMENT_CLICKED,s),he(s),!s.pbjsBid)break;s.pbjsRenderTS&&(!s.gtagRenderTS||s.pbjsRenderTS>=s.gtagRenderTS||Math.abs(s.gtagRenderTS-s.pbjsRenderTS)<=2)&&O(r.PBJS_BID_CLICKED,s.pbjsBid);break}}function he(e){try{const t=document.activeElement;c.debug(`gamera-click activeElement id: ${t.id}`),c.debug(`gamera-click placement id: ${e.universalPlacementId} divId: ${e.divId}`);const n=t.getBoundingClientRect();c.debug(`gamera-click iframe dimensions: ${n.width}x${n.height}`),c.debug(`gamera-click iframe coordinates: ${n.top},${n.left}`);const i=document.getElementById(e.divId).getBoundingClientRect();c.debug(`gamera-click divElement dimensions: ${i.width}x${i.height}`),c.debug(`gamera-click divElement coordinates: ${i.top},${i.left}`)}catch(e){c.error("error logging ad click",e)}}class fe{constructor(){this.url=window.location.href,this.referrer=window.document.referrer||"",this.referrerParams=function(){const e={};try{const t=h("_fbc"),n=h("_fbp");t&&(e.fbc=t),n&&(e.fbp=n)}catch(e){}return e}(),this.viewportSize=[g(),m()],this.domain=void 0,this.partner=void 0,this.dimensions=void 0,this.metrics=void 0,this.userId=void 0,this.sessionId=void 0,this.webMetrics={},this.meta=void 0;try{this.meta=JSON.parse(atob("eyJkZXZpY2UiOnsidHlwZSI6ImRlc2t0b3AifSwiZ2VvIjp7ImNvdW50cnkiOiJVUyJ9fQ=="))}catch(e){}this.events={pages:[],custom:[]},this._startedEmitting=!1,this._startTs=v(),this._lastSeen=this._startTs,this.processNewPage();const e=e=>{const t=e.universalPlacementId,n=this.events.pages[this.events.pages.length-1];return n.adPlacements[t]=n.adPlacements[t]||{},C.collectPlacementHistory&&(n.adPlacements[t].history=e.history),n._send=!0,n.adPlacements[t]};L(r.AD_PLACEMENT_FOUND,(t=>{e(t)})),L(r.AD_PLACEMENT_GTAG_RENDERED,(t=>{const n=e(t);n.gtagRenders=n.gtagRenders||0,n.gtagRenders++})),L(r.AD_PLACEMENT_PBJS_RENDERED,(t=>{const n=e(t);n.pbjsRenders=n.pbjsRenders||0,n.pbjsRenders++,C.collectPbjsSummary&&(n.pbjsSummary=n.pbjsSummary||{},n.pbjsSummary.wins=n.pbjsSummary.wins||0,n.pbjsSummary.wins++,n.pbjsSummary.totalCPM=n.pbjsSummary.totalCPM||0,n.pbjsSummary.totalCPM+=t.pbjsBid.cpm)})),L(r.AD_PLACEMENT_PBJS_AUCTION_INIT,(t=>{if(!C.collectPbjsSummary)return;const n=e(t);n.pbjsSummary=n.pbjsSummary||{},n.pbjsSummary.auctions=n.pbjsSummary.auctions||0,n.pbjsSummary.auctions++})),L(r.AD_PLACEMENT_RENDERED,(t=>{const n=e(t);n.renders=n.renders||0,n.renders++;const i=t.renders;if(i<2)return;let s=null,a=null;for(let e=0;e<t.history.length;e++){const n=t.history[e];if(n.type===r.AD_PLACEMENT_GTAG_RENDERED||n.type===r.AD_PLACEMENT_PBJS_RENDERED){s=n;break}}for(let e=t.history.length-1;e>=0;e--){const n=t.history[e];if(n.type===r.AD_PLACEMENT_GTAG_RENDERED||n.type===r.AD_PLACEMENT_PBJS_RENDERED){a=n;break}}if(!s||!a)return;const o=a.timestamp-s.timestamp;n.refreshInterval=o/(i-1)})),L(r.AD_PLACEMENT_CLICKED,(t=>{const n=e(t);n.clicks=n.clicks||0,n.clicks++})),L(r.AD_PLACEMENT_VIEWABLE,(t=>{const n=e(t);n.viewable=n.viewable||0,n.viewable++})),L(r.SESSION_AD_PLACEMENTS_VISIBLE,(e=>{const t=this.events.pages[this.events.pages.length-1];t.maxAdPlacementsVisible=Math.max(t.maxAdPlacementsVisible||0,e.count)})),L(r.GAM_AD_REQUESTED,(e=>{if(e&&e.gameraId&&e.gameraId.length>0){let t={};e.gameraId.forEach((e=>{t[`signals_${e}_gam`]=1})),this.addPageObservabilityMetrics(t,!0)}}))}addDimensions(e){this.dimensions||(this.dimensions={}),Object.keys(e).forEach((t=>{const n=t.trim();if(""===n||-1!==n.indexOf(":"))return;const i=e[t];if("string"!=typeof i&&"number"!=typeof i&&"boolean"!=typeof i)return;const r=this.dimensions[n]||[];i.toString().split(",").forEach((e=>{const t=e.trim();""!==t&&-1===r.indexOf(t)&&r.push(t)})),r.length&&(this.dimensions[n]=r)}));const t=this.events.pages[this.events.pages.length-1];return t._send=!0,t}calculateAdPlacementsAttention(e){const t=v(),n=Y(),i={};n.forEach((e=>{i[e.universalPlacementId]=e})),Object.keys(e.adPlacements).forEach((n=>{const r=e.adPlacements[n],s=i[n];if(!s||!s.attentionState)return;let a=s.attentionState.pastTimeInViewport||0;s.attentionState.isVisible&&(a+=t-s.attentionState.lastEnteredViewport),r.att=a}))}addMetrics(e){this.metrics||(this.metrics={}),Object.keys(e).forEach((t=>{const n=t.trim();if(""===n)return;const i=e[t];"number"==typeof i&&(this.metrics[n]=i)}));const t=this.events.pages[this.events.pages.length-1];return t._send=!0,t}setDomain(e){"string"==typeof e&&e.length>0&&(this.domain=e.toLowerCase())}setPartner(e){"string"==typeof e&&e.length>0&&(this.partner=e.toLowerCase())}setUserId(e){this.userId=e}getUserId(){return this.userId}getMeta(){return this.meta}getCurrentPage(){return this.events.pages.length?this.events.pages[this.events.pages.length-1]:void 0}setSessionId(e){this.sessionId=e}sync(){const e=v();if(e===this._lastSeen)return;e-this._lastSeen>=1800||e-this._startTs>=28800?this._reset():this._lastSeen=e;const t=this.events.pages.length?this.events.pages[this.events.pages.length-1]:void 0;t&&e-t._ts>=14400&&this.processNewPage(!0)}processNewPage(e=!1){const t=window.location.pathname,n=this.events.pages.length?this.events.pages[this.events.pages.length-1]:void 0;if(!e&&n&&n.page===t)return;const i=v(),s=w();n&&(this.calculateAdPlacementsAttention(n),n.tPage=i-n._ts,n._send=!0,n._engagementState._isEngaged&&(n._engagementState._pDuration+=s-n._engagementState._pStart),n._engagementState._isEngaged=!1);const a=u(),o=a+this.viewportSize[1],d={page:t,pvid:p(),scrollDepth:1,ads:{},rev:{},adBids:{},observability:{},adPlacements:{},tPage:0,webMetrics:Object.assign({},this.webMetrics),_ts:i,_yStart:a,_yEnd:o,_send:!0,_engagementState:{_pStart:s,_pDuration:0,_isEngaged:"visible"===document.visibilityState}};return this.events.pages.push(d),O(r.SESSION_NEW_PAGE,{page:d}),d}updatePageScroll(){const e=this.events.pages[this.events.pages.length-1];e._send=!0;const t=u(),n=this.viewportSize[1];return e._yEnd>=t+n||(e._yEnd=t+n,e.scrollDepth=+((e._yEnd-e._yStart)/n).toFixed(2)),e}keepPageAlive(){const e=this.events.pages[this.events.pages.length-1];return e._send=!0,e}updateWebMetrics(e){if(!e||!e.name||"string"!=typeof e.name)return;const t=e.name.toLowerCase(),n=Math.round(1e3*e.value)/1e3;if(this.webMetrics[t]===n)return;this.webMetrics[t]=n;const i=this.events.pages[this.events.pages.length-1];return i.webMetrics=Object.assign({},this.webMetrics),i._send=!0,O(r.WEB_VITALS_CHANGED,{name:t,value:n}),i}processNewAdEvent(e){const t=this.events.pages[this.events.pages.length-1];if("gam"===e.src){{const n=t.ads[e.nid]||{},i=n[e.lid]||0;n[e.lid]=i+1,t.ads[e.nid]=n}return t._send=!0,t}}addPageRevenue(e){const t=this.events.pages[this.events.pages.length-1],n=t.rev[e.type]||[],i=n.find((t=>t.currency===e.currency));return i?(i.revenue+=+e.revenue,i.count++):n.push({currency:e.currency,revenue:+e.revenue,count:1}),t.rev[e.type]=n,t._send=!0,O(r.SESSION_PAGE_REVENUE_ADDED,{data:e}),t}processNewCustomEvent(e,t){const n={id:p(),name:e,params:t,page:window.location.pathname,_send:!0};return this.events.custom.push(n),n}addWinningBid(e){if(!C.collectAdvertiserDomains)return;if(!e||!e.meta||!Array.isArray(e.meta.advertiserDomains))return;const t=e.meta.advertiserDomains.join(","),n=this.events.pages[this.events.pages.length-1];if(!n.adBids[t]&&Object.keys(n.adBids).length>=20)return;const i=n.adBids[t]||{imps:0,rev:0};return i.imps+=1,i.rev+=+e.cpm/1e3,n.adBids[t]=i,n._send=!0,n}addWinningBidClick(e){if(!C.collectAdvertiserDomains)return;if(!e||!e.meta||!Array.isArray(e.meta.advertiserDomains))return;const t=e.meta.advertiserDomains.join(","),n=this.events.pages[this.events.pages.length-1];if(!n.adBids[t]&&Object.keys(n.adBids).length>=20)return;const i=n.adBids[t]||{clicks:0};return i.clicks=i.clicks||0,i.clicks+=1,n.adBids[t]=i,n._send=!0,n}_getSessionPayload(){const e=v(),t=w(),n={url:this.url,referrer:this.referrer,referrerParams:this.referrerParams,viewportSize:this.viewportSize,domain:this.domain,partner:this.partner,dimensions:this.dimensions,metrics:this.metrics,userId:this.userId,sessionId:this.sessionId,events:{},meta:this.meta,elapsed:e-this._startTs,cts:e},i=[];for(let n=0,r=this.events.pages.length;n<r;n++){const s=this.events.pages[n];if(!s._send)continue;let a=s._engagementState._pDuration;n===r-1&&(s.tPage=e-s._ts,this.calculateAdPlacementsAttention(s),s._engagementState._isEngaged&&(a+=t-s._engagementState._pStart)),i.push({page:s.page,pvid:s.pvid,scrollDepth:s.scrollDepth,ads:s.ads,rev:s.rev,adBids:s.adBids,tPage:s.tPage,eng:Math.floor(a),webMetrics:s.webMetrics,observability:s.observability,adPlacements:s.adPlacements,adDensity:s.maxAdPlacementsVisible})}i.length&&(n.events.pages=i);const r=[];for(const e of this.events.custom)e._send&&r.push({id:e.id,name:e.name,params:e.params,page:e.page});return r.length&&(n.events.custom=r),n}_sendPayload(e){const t=this._getSessionPayload();if(Object.keys(t.events).length){e?navigator.sendBeacon(C.endpoint,JSON.stringify(t)):fetch(C.endpoint,{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"text/plain"},body:JSON.stringify(t),keepalive:!0}).then((e=>{})).catch((e=>{const n={};for(const e of t.events.pages||[])n[e.pvid]=!0;for(const e of t.events.custom||[])n[e.id]=!0;for(const e of this.events.pages)n[e.pvid]&&(e._send=!0);for(const e of this.events.custom)n[e.id]&&(e._send=!0)}));for(const e of this.events.pages)e._send=!1;for(const e of this.events.custom)e._send=!1}}startEmitting(){this._startedEmitting||(this._startedEmitting=!0,window.setInterval((()=>{this._sendPayload(!1)}),6e5),document.addEventListener("visibilitychange",(()=>{let e;this.events.pages.length&&(e=this.events.pages[this.events.pages.length-1]),"hidden"===document.visibilityState?(e&&e._engagementState._isEngaged&&(e._engagementState._pDuration+=w()-e._engagementState._pStart,e._engagementState._isEngaged=!1),this._sendPayload(!0)):e&&(e._engagementState._isEngaged=!0,e._engagementState._pStart=w())})))}_reset(){this.events={pages:[],custom:[]},this.sessionId=void 0,this._startTs=v(),this._lastSeen=this._startTs,O(r.SESSION_RESET),this.processNewPage()}hasStartedEmitting(){return this._startedEmitting}addPageObservability(e){const t=this.events.pages[this.events.pages.length-1];return t.observability=P(t.observability,e),t._send=!0,t}addPageObservabilityMetrics(e,t=!1){const n=this.events.pages[this.events.pages.length-1];return n.observability.metrics=n.observability.metrics||{},Object.keys(e).forEach((i=>{const r=e[i];"number"==typeof r&&(n.observability.metrics[i]=t?(n.observability.metrics[i]||0)+r:r)})),n._send=!0,n}}function ve(){return ue||(ue=new fe),ue}var we,Ee=-1,ye=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Ee=t.timeStamp,e(t))}),!0)},be=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},_e=function(){var e=be();return e&&e.activationStart||0},Se=function(e,t){var n=be(),i="navigate";return Ee>=0?i="back-forward-cache":n&&(document.prerendering||_e()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-"))),{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Ae=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},Ie=function(e,t,n,i){var r,s;return function(a){t.value>=0&&(a||i)&&((s=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=s,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Pe=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},De=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},Te=function(e){var t=!1;return function(){t||(e(),t=!0)}},Ce=-1,Re=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},Ne=function(e){"hidden"===document.visibilityState&&Ce>-1&&(Ce="visibilitychange"===e.type?e.timeStamp:0,Oe())},Le=function(){addEventListener("visibilitychange",Ne,!0),addEventListener("prerenderingchange",Ne,!0)},Oe=function(){removeEventListener("visibilitychange",Ne,!0),removeEventListener("prerenderingchange",Ne,!0)},Me=function(){return Ce<0&&(Ce=Re(),Le(),ye((function(){setTimeout((function(){Ce=Re(),Le()}),0)}))),{get firstHiddenTime(){return Ce}}},ke=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},xe=[1800,3e3],$e=function(e,t){t=t||{},ke((function(){var n,i=Me(),r=Se("FCP"),s=Ae("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(s.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-_e(),0),r.entries.push(e),n(!0)))}))}));s&&(n=Ie(e,r,xe,t.reportAllChanges),ye((function(i){r=Se("FCP"),n=Ie(e,r,xe,t.reportAllChanges),Pe((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},je=[.1,.25],Ve=0,Be=1/0,Ue=0,Ge=function(e){e.forEach((function(e){e.interactionId&&(Be=Math.min(Be,e.interactionId),Ue=Math.max(Ue,e.interactionId),Ve=Ue?(Ue-Be)/7+1:0)}))},We=function(){"interactionCount"in performance||we||(we=Ae("event",Ge,{type:"event",buffered:!0,durationThreshold:0}))},He=[],Je=new Map,Fe=0,qe=function(){return(we?Ve:performance.interactionCount||0)-Fe},Xe=[],ze=function(e){if(Xe.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=He[He.length-1],n=Je.get(e.interactionId);if(n||He.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};Je.set(i.id,i),He.push(i)}He.sort((function(e,t){return t.latency-e.latency})),He.length>10&&He.splice(10).forEach((function(e){return Je.delete(e.id)}))}}},Ke=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=Te(e),"hidden"===document.visibilityState?e():(n=t(e),De(e)),n},Ye=[200,500],Qe=[2500,4e3],Ze={},et=[800,1800],tt=function e(t){document.prerendering?ke((function(){return e(t)})):"complete"!==document.readyState?addEventListener("load",(function(){return e(t)}),!0):setTimeout(t,0)},nt=function(e,t){t=t||{};var n=Se("TTFB"),i=Ie(e,n,et,t.reportAllChanges);tt((function(){var r=be();r&&(n.value=Math.max(r.responseStart-_e(),0),n.entries=[r],i(!0),ye((function(){n=Se("TTFB",0),(i=Ie(e,n,et,t.reportAllChanges))(!0)})))}))};new Date;const it=v();function rt(e){return Y().filter((t=>t.viewport===e)).length}const st=[],at=[];let ot=0;function dt(e){return"function"==typeof e&&st.push(e),gt().onpage||[]}function ct(e,t,n){function i(e){const t=de(),n=dt();return t.forEach((t=>{const i=ce(t);if(i&&i.universalPlacementId){e.adUnits=e.adUnits||{},e.adUnits[t.code]=e.adUnits[t.code]||{};const r={ext:{data:{gameraPlacementId:i.universalPlacementId}}},s=ut(i,n,"pbjs");s&&s.length>0&&(r.ext.data.gameraId=s),P(e.adUnits[t.code],r)}})),e}return C.disableAdPlacementDiscovery||re(),"function"==typeof e&&at.push((t=>{e(i(t))})),i(gt().pb||{})}function lt(){C.disableAdPlacementDiscovery||re();let e={};const t=Y(),n=dt();return t.forEach((t=>{if(!t.gpid)return;const i=ut(t,n,"gpt");i&&i.length>0&&(e[t.gpid]={gamera:i})})),e}function ut(e,t,n){return e&&e.universalPlacementId?function(e,t,n){const i=t||[],r=C.curationRules||[],s=v();return r.filter((t=>{const r=!!t.inverted;let a=t.target||["pbjs"];return Array.isArray(a)||(a=[a]),!!a.includes(n)&&(t.segmentsInclusion&&Array.isArray(t.segmentsInclusion)&&t.segmentsInclusion.length>0&&r===i.some((e=>t.segmentsInclusion.includes(e)))?r:!(t.segmentsExclusion&&Array.isArray(t.segmentsExclusion)&&t.segmentsExclusion.length>0&&i.some((e=>t.segmentsExclusion.includes(e))))&&(t.placementIds&&Array.isArray(t.placementIds)&&-1===t.placementIds.indexOf(e.universalPlacementId)||t.maxRenderSequence&&e.renders>=t.maxRenderSequence||t.maxViewportAdDensity&&rt(e.viewport)>t.maxViewportAdDensity||t.maxTimeOnPage&&(s-it>t.maxTimeOnPage||s-it<0)?r:!r))})).map((e=>e.id))}(e,t,n):null}function gt(){try{let e=h("gamera_segtax");if(!e)return mt(),{};const t=JSON.parse(e),n=v();return Math.abs(n-t.ts)>3600&&mt(),t.data}catch(e){c.error(`while getting gamera_segtax: ${e}`)}return{}}function mt(){if(!C.audience)return void c.warn("trying to fetch gamera segtax without audience feature being ON!");if(!C.enableSegtaxFetch)return void c.info("skipping segtax fetch, enableSegtaxFetch is OFF!");const e=v();if(!(e-ot<600)){ot=e;try{let e=[],t=ve().getUserId()||h("gamera_user_id");t&&e.push(`uid=${encodeURIComponent(t)}`),e.push(`domain=${encodeURIComponent(C.domain||window.location.hostname)}`),e.push(`path=${encodeURIComponent(window.location.pathname)}`),C.partner&&e.push(`partner=${encodeURIComponent(C.partner)}`),fetch(`${C.endpoint}?${e.join("&")}`,{method:"GET",headers:{Accept:"application/json, text/plain, */*"}}).then((e=>{if(!e.ok)throw new Error(`gamera_segtax response was not ok: ${e.statusText}`);const t=e.headers.get("Content-Type");return t&&t.includes("application/json")?e.json():e.text()})).then((e=>{let t=e;"string"==typeof e&&(t=JSON.parse(e));const n={data:t,ts:v()};!function(e){let t=y((()=>JSON.parse(h("gamera_segtax"))));t=t||{};const n=t&&t.data&&t.data.onpage||[],i=t&&t.data&&t.data.pb||{},r=e.onpage||[],s=e.pb||{};E(r,n)||st.forEach((e=>y((()=>{e(r)})))),E(s,i)||at.forEach((e=>y((()=>{e(s)}))))}(t),f("gamera_segtax",JSON.stringify(n),8760,"Lax")})).catch((e=>{c.error(`while fetching gamera_segtax: ${e}`)}))}catch(e){c.error(`while fetching gamera_segtax: ${e}`)}}}let pt,ht={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},ft={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},vt=!1,wt=!1,Et=!1;function yt(){if(!vt)return;const e=bt();try{localStorage.setItem("_gameraClientSideMetrics",JSON.stringify(e))}catch(e){}}function bt(){const e=ve();return{sessionStart:ft.sessionStart||ht.sessionStart,lastSeen:ht.lastSeen,adsRendered:ft.adsRendered+ht.adsRendered,adsViewable:ft.adsViewable+ht.adsViewable,pageCount:ft.pageCount+(e.events.pages.length||1),vitals:{...e.webMetrics,...ft.vitals,...ht.vitals},sessionRevenue:ft.sessionRevenue+ht.sessionRevenue}}function _t(){const e=g(),t=m();let n=[];C.audience&&!C.disableAdPlacementDiscovery?n.push(...Y().filter((e=>e.renders>0)).map((e=>e.divId))):(window.googletag&&I(window.googletag.pubads)&&I(window.googletag.pubads().getSlots)&&n.push(...window.googletag.pubads().getSlots().map((e=>e.getSlotElementId()))),n.push(...de().map((e=>e.code)))),n=[...new Set(n)];let i=0;return n.forEach((n=>{if(!n)return;const r=document.getElementById(n);if(r){const n=r.getBoundingClientRect();n.left<e&&n.right>0&&n.top<t&&n.bottom>0&&i++}})),i}window.gamera=window.gamera||{},window.gamera.cmd=window.gamera.cmd||[],window.gamera.fastlane=window.gamera.fastlane||[];let St={},At=!1;if(!0===window.gamera.loaded)c.error("gamera already loaded, exiting.");else try{window.gamera.loaded=!0,window.gamera.setLogLevel=e=>c.setLogLevel(e),window.gamera.setUserId=e=>{e?pt.hasStartedEmitting()?c.error("userId override provided too late, ignoring."):pt.setUserId(e.toString()):c.error("empty userId override provided, ignoring.")},window.gamera.setConfig=e=>C.setConfig(e),window.gamera.event=Pt,window.gamera.addDimensions=Ct,window.gamera.addMetrics=function(e){e&&"object"==typeof e&&!Array.isArray(e)?It({type:i.ADD_METRICS,data:e}):c.error('argument "metrics" has an invalid type')},window.gamera.addPageRevenue=function(e){e&&e.revenue?(e.currency||(e.currency="USD"),e.type||(e.type="unknown"),It({type:i.PAGE_REVENUE,data:e})):c.error('argument "data" has no "revenue" property')},window.gamera.getOnPageSegments=dt,window.gamera.getPrebidSegments=ct,window.gamera.getUserMetrics=function(){const e=dt(),t={};return e.forEach((e=>{try{const n=e.split("_");if(e.startsWith("LRPU_P_"))return void(t.lrpu_p=+n[n.length-1]);if(e.startsWith("user_cpm_avg_"))return void(t.avg_cpm=+n[n.length-1]);if(e.startsWith("user_fillrate_avg_"))return void(t.avg_fillrate=+n[n.length-1]);if(e.startsWith("user_ltv_"))return void(t.ltv=+n[n.length-1]);if(e.startsWith("user_visits_")){const e=n[n.length-1].split(",").map(Number);return void(t.visits={last_7:e[0],last_14:e[1],last_30:e[2],lifetime:e[3]})}}catch(t){c.error(`while parsing segment ${e}: ${t}`)}})),t},window.gamera.getGptSegments=lt,window.gamera._storeException=R,window.gamera._getAdPlacements=()=>b(Y()),window.gamera._drawRowGrid=oe,window.gamera._getDiagnosticsData=function(){const e={};if(pt){e.meta=pt.getMeta();const t=pt.getCurrentPage();t&&(e.maxAdPlacementsVisible=t.maxAdPlacementsVisible)}return e},function(){pt=ve();let s=window.history;if(s&&s.pushState){let e=s.pushState;s.pushState=function(){e.apply(s,arguments),It({type:i.NEW_PAGE})},window.addEventListener("popstate",(()=>{It({type:i.NEW_PAGE})}))}let d=0;document.addEventListener("scroll",(e=>{d||(d=setTimeout((()=>{It({type:i.PAGE_SCROLL}),d=0}),250))}),!0),function(e){try{window.dataLayer=window.dataLayer||[],window.gtag=window.gtag||function(){dataLayer.push(arguments)},window.gtag("get","G-XXXXXXXXXX","client_id",(e=>{Pt("analytics",{source:"ga4",client_id:e})}))}catch(e){c.error(`while trying to get gtag client_id: ${e}`)}}(),document.addEventListener("click",Tt),document.addEventListener("auxclick",Tt),document.addEventListener("mousedown",Dt),document.addEventListener("keydown",Dt),document.addEventListener("touchstart",Dt),function(){let s=!1;var d;if(window.addEventListener(t,(()=>{s=!0})),window.gamera.fastlane.forEach((e=>"function"==typeof e&&e())),window.gamera.fastlane={push:e=>e()},C.clientSideMetrics&&(function(){const e=v();let t=null;try{const n=localStorage.getItem("_gameraClientSideMetrics");n&&(t=JSON.parse(n),t.sessionStart=+t.sessionStart||0,t.lastSeen=+t.lastSeen||0,t.adsRendered=+t.adsRendered||0,t.adsViewable=+t.adsViewable||0,t.pageCount=+t.pageCount||0,t.vitals=t.vitals||{},t.sessionRevenue=+t.sessionRevenue||0,(e-t.lastSeen>=1800||e-t.sessionStart>=28800)&&(t=null))}catch(e){t=null}t&&(ft=t),ht.sessionStart=e,ht.lastSeen=e,vt=!0,yt(),vt&&(C.audience&&!C.disableAdPlacementDiscovery?(L(r.AD_PLACEMENT_GTAG_RENDERED,(e=>{if(e.history.length&&e.history[e.history.length-1].type===r.AD_PLACEMENT_GTAG_RENDERED){const t=(e.history[e.history.length-1].data.pb||0)+.01;ht.sessionRevenue+=t/1e3,yt()}})),L(r.AD_PLACEMENT_PBJS_RENDERED,(e=>{const t=v();(!e.gtagRenderTS||e.gtagRenderTS<t-5)&&(ht.sessionRevenue+=e.pbjsBid.cpm/1e3,yt())})),L(r.AD_PLACEMENT_RENDERED,(e=>{ht.adsRendered++,yt()})),L(r.AD_PLACEMENT_VIEWABLE,(e=>{ht.adsViewable++,yt()}))):L(r.SESSION_PAGE_REVENUE_ADDED,(({data:e})=>{ht.sessionRevenue+=+e.revenue,"pbjs"===e.type&&ht.adsRendered++,yt()})),L(r.WEB_VITALS_CHANGED,(({name:e,value:t})=>{ht.vitals[e]=t,yt()})),L(r.SESSION_NEW_PAGE,(e=>{yt()})),L(r.SESSION_RESET,(()=>{const e=v();ft={sessionStart:0,lastSeen:0,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},ht={sessionStart:e,lastSeen:e,adsRendered:0,adsViewable:0,pageCount:0,vitals:{},sessionRevenue:0},yt()})),function(e,t,n){let i=0;function r(){i=setTimeout(s,e),document.addEventListener("pointermove",a),document.addEventListener("mousedown",a),document.addEventListener("keydown",a),document.addEventListener("touchstart",a),document.addEventListener("scroll",a,!0)}function s(){i=0,t()}function a(){i?clearTimeout(i):n(),document.removeEventListener("pointermove",a),document.removeEventListener("mousedown",a),document.removeEventListener("keydown",a),document.removeEventListener("touchstart",a),document.removeEventListener("scroll",a,!0),setTimeout(r,1e3),ht.lastSeen=v(),Et=!0}r()}(2e4,(()=>{wt=!0,yt()}),(()=>{wt=!1})),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&yt()})),document.addEventListener("blur",(()=>{yt()})),window.addEventListener("blur",(()=>{yt()})))}(),window.gamera.getSessionMetrics=()=>function(){const e=v(),t=bt(),n=ve(),i=n.events.pages[n.events.pages.length-1];let r=null;n.dimensions&&Array.isArray(n.dimensions.tpcs)&&(r=-1!==n.dimensions.tpcs.indexOf("enabled"));let s=null;s=window.navigator&&window.navigator.userActivation?window.navigator.userActivation.hasBeenActive:Et;const a={sessionStart:t.sessionStart,lastSeen:t.lastSeen,sessionLength:e-t.sessionStart,timeOnPage:i?e-i._ts:0,isIdle:wt,hasEngaged:s,adsRendered:t.adsRendered,adsViewable:t.adsViewable,adDensity:_t(),pageCount:t.pageCount,scrollDepth:i?i.scrollDepth:1,vitals:t.vitals,sessionRevenue:t.sessionRevenue,tpcs:r};return n.meta&&n.meta.geo?a.geo=n.meta.geo:a.geo={},n.meta&&n.meta.device?a.device=n.meta.device:a.device={},a}()),C.audience&&!C.runningInIframe?window.gamera.addAdUnitPlacements=ne:window.gamera.addAdUnitPlacements=()=>{},window.gamera.cmd.forEach((e=>{if("function"==typeof e)try{e()}catch(t){c.error(`while processing fn ${e.name}: ${t}`)}})),window.gamera.cmd={push:e=>e()},C.domain&&pt.setDomain(C.domain),C.partner&&pt.setPartner(C.partner),C.userId&&pt.setUserId(C.userId),C.sessionId&&pt.setSessionId(C.sessionId),C.ltv&&(d=It,window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){X=!0,window.googletag.pubads().addEventListener("slotRenderEnded",(function(e){if(!e||e.isEmpty)return;let t=e.slot.getAdUnitPath()||"";t=t.startsWith("/")?t.toLowerCase():"/"+t.toLowerCase();const n={src:"gam",div:e.slot.getSlotElementId()||"",sid:t,nid:t.split("/")[1]||"",cid:String(e.sourceAgnosticCreativeId),lid:String(e.sourceAgnosticLineItemId),aid:String(e.advertiserId),adid:"",pb:""};o.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.adid=i[0])}catch(e){}})),a.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.pb=i[0])}catch(e){}})),function(e,t){const n=le(e);if(!n)return;const i=v();n.gtagRenderTS=i,n.clicked=!1,n.history.push({timestamp:i,type:r.AD_PLACEMENT_GTAG_RENDERED,data:{adUnitPath:t.sid,networkId:t.nid,lineItemId:t.lid,advertiserId:t.aid,creativeId:t.cid,pb:+t.pb||0}}),O(r.AD_PLACEMENT_GTAG_RENDERED,n),n.renders++,O(r.AD_PLACEMENT_RENDERED,n),n.viewabilityTracker||(n.viewabilityTracker="gpt"),q(n)}(e.slot,n),d({type:i.AD_RENDERED,data:n})})),window.googletag.pubads().addEventListener("slotRequested",(function(e){if(!e||e.isEmpty)return;let t=e.slot.getAdUnitPath()||"";t=t.startsWith("/")?t.toLowerCase():"/"+t.toLowerCase();const n={src:"gam",div:e.slot.getSlotElementId()||"",sid:t,nid:t.split("/")[1]||"",adid:"",pb:"",gameraId:[]};o.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.adid=i[0])}catch(e){}})),a.forEach((t=>{try{const i=e.slot.getTargeting(t);i&&i.length&&(n.pb=i[0])}catch(e){}}));try{const t=e.slot.getTargeting("gamera");t&&t.length&&(n.gameraId=t)}catch(e){}O(r.GAM_AD_REQUESTED,n)})),window.googletag.pubads().addEventListener("impressionViewable",(function(e){const t=le(e.slot);t&&"gpt"===t.viewabilityTracker&&(t.history.push({timestamp:v(),type:r.AD_PLACEMENT_VIEWABLE}),O(r.AD_PLACEMENT_VIEWABLE,t),t.viewabilityTracker=null)}))})),window.addEventListener("message",(e=>{const t=e&&e.data;t&&t.type&&t.type===n&&d({type:i.AD_RENDERED,data:t.data})})),window.addEventListener("cnxImpressionData",(e=>{e&&e.detail&&e.detail.lineItemRevenue&&d({type:i.PAGE_REVENUE,data:{type:"connatix",currency:"USD",revenue:+e.detail.lineItemRevenue}})}))),C.webMetrics)try{const e=e=>{pt.updateWebMetrics(e)};(function(e,t){t=t||{},$e(Te((function(){var n,i=Se("CLS",0),r=0,s=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=s[0],n=s[s.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,s.push(e)):(r=e.value,s=[e])}})),r>i.value&&(i.value=r,i.entries=s,n())},o=Ae("layout-shift",a);o&&(n=Ie(e,i,je,t.reportAllChanges),De((function(){a(o.takeRecords()),n(!0)})),ye((function(){r=0,i=Se("CLS",0),n=Ie(e,i,je,t.reportAllChanges),Pe((function(){return n()}))})),setTimeout(n,0))})))})(e,{reportAllChanges:!0}),function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},ke((function(){var n;We();var i,r=Se("INP"),s=function(e){Ke((function(){e.forEach(ze);var t,n=(t=Math.min(He.length-1,Math.floor(qe()/50)),He[t]);n&&n.latency!==r.value&&(r.value=n.latency,r.entries=n.entries,i())}))},a=Ae("event",s,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=Ie(e,r,Ye,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),De((function(){s(a.takeRecords()),i(!0)})),ye((function(){Fe=0,He.length=0,Je.clear(),r=Se("INP"),i=Ie(e,r,Ye,t.reportAllChanges)})))})))}(e,{reportAllChanges:!0}),function(e,t){t=t||{},ke((function(){var n,i=Me(),r=Se("LCP"),s=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-_e(),0),r.entries=[e],n())}))},a=Ae("largest-contentful-paint",s);if(a){n=Ie(e,r,Qe,t.reportAllChanges);var o=Te((function(){Ze[r.id]||(s(a.takeRecords()),a.disconnect(),Ze[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return Ke(o)}),!0)})),De(o),ye((function(i){r=Se("LCP"),n=Ie(e,r,Qe,t.reportAllChanges),Pe((function(){r.value=performance.now()-i.timeStamp,Ze[r.id]=!0,n(!0)}))}))}}))}(e,{reportAllChanges:!0}),$e(e),nt(e)}catch(e){}C.audience&&(function(){let e=["pbjs"];"freestar"===C.partner?e.push("fsprebid"):"publift"===C.partner&&e.push("fusePbjs"),window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)&&(e=window._pbjsGlobals.slice()),Rt(e);const t=(new Date).getTime();let n=setInterval((function(){if(window._pbjsGlobals&&Array.isArray(window._pbjsGlobals)){const t=window._pbjsGlobals.filter((t=>-1===e.indexOf(t)));t.length>0&&(e.push(...t),Rt(t))}(new Date).getTime()-t>1e4&&(clearInterval(n),c.debug("stopping pbjs discovery."))}),200)}(),C.disableAdPlacementDiscovery||(function(){try{Z=function(e){const t={};if(!e||"string"!=typeof e)return t;const n=e.split("\n"),i=n[0],r=n.slice(1),s=i.split(",");return r.forEach((e=>{if(!e)return;const n=e.split(","),i=n[0],r={};for(let e=1;e<s.length;e++){const t=+n[e];r[s[e]]=isNaN(t)?n[e]:t}t[i]=r})),t}(C.placementStats)}catch(e){c.error(`while parsing placement stats: ${e}`)}window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.googletag.cmd.push((function(){X=!0,function(){let e=0;ie();let t=setInterval((()=>{if(e++,e>=10)return clearInterval(t),void(t=0);ie()}),500);document.addEventListener("scroll",(()=>{e=0,0===t&&(ie(),t=setInterval((()=>{if(e++,e>=10)return clearInterval(t),void(t=0);ie()}),500))}),!0)}()})),function(){if(!M||G)return;G=W();const e=()=>{if(!G)return;G.disconnect(),G=null;const e=v();Object.keys(H).forEach((t=>{const n=H[t];n.attentionState.isVisible&&(n.attentionState.pastTimeInViewport+=e-n.attentionState.lastEnteredViewport,n.attentionState.isVisible=!1,n.attentionState.lastExitedViewport=e)})),c.debug("attentionIO disconnected")},t=()=>{G||(G=W(),Object.keys(H).forEach((e=>{q(H[e])})),Object.keys(F).forEach((e=>{q(F[e])})),F={},c.debug("attentionIO reconnected"))};document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState?e():t()})),window.addEventListener("focus",(()=>{t()})),window.addEventListener("blur",(()=>{e()})),L(r.SESSION_RESET,(()=>{const e=v();Object.keys(H).forEach((t=>{const n=H[t];n&&(n.attentionState.isVisible?(n.attentionState.pastTimeInViewport=0,n.attentionState.lastEnteredViewport=e,n.attentionState.lastExitedViewport=e):n.attentionState.pastTimeInViewport=0)}))}))}();let t=!1;try{window.location.search.indexOf("gameraDiagnostics")>-1&&(function(){const e=document.createElement("script");e.src="https://assets.rapidedge.io/gamera/tracker/production/diagnostics.js",e.async=!0,document.head.appendChild(e)}(),t=!0)}catch(e){c.error(`while gamera diagnostics script: ${e}`)}!t&&window.location.search.indexOf(e)>-1&&(oe(),setInterval((()=>{oe()}),5e3))}(),function(){if(C.disableGptCuration)return;if(!(C.curationRules||[]).some((e=>Array.isArray(e.target)?e.target.includes("gpt"):"gpt"===e.target)))return;At=!0,Lt();let e=250;const t=()=>{Lt(),e=Math.min(2*e,2e3),window.setTimeout(t,e)};window.setTimeout(t,e)}()),document.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&pe()})),document.addEventListener("blur",(()=>{pe()})),window.addEventListener("blur",(()=>{pe()})),document.addEventListener("keydown",(e=>{"Tab"===e.key&&(ge=Date.now())})),document.addEventListener("pointermove",(e=>{me=Date.now()})),L(r.PBJS_BID_CLICKED,(e=>{pt.addWinningBidClick(e)})),function(){try{let e=pt.getUserId()||h("gamera_user_id");e||(e=p()),f("gamera_user_id",e,8760,"Lax"),pt.setUserId(e)}catch(e){c.error(`while generating gamera_user_id: ${e}`)}}(),gt()),C.wait&&!s?window.addEventListener(t,(()=>{pt.startEmitting()})):pt.startEmitting(),C.tpcs&&function(){const e=document.createElement("iframe");e.src="https://assets.rapidedge.io/gamera/tracker/production/3pcs.html",e.sandbox="allow-scripts allow-same-origin",e.style.display="none",e.style.position="fixed",window.addEventListener("message",(function t(n){const i=n&&n.data;"tpcs=enabled"!==i&&"tpcs=disabled"!==i||(Ct({tpcs:i.split("=")[1]}),document.body.removeChild(e),window.removeEventListener("message",t))})),document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",(function(t){document.body.appendChild(e)}))}(),function(){try{Ct({gamera_ctx:C.runningInIframe?"iframe":"top"})}catch(e){c.error(`while checking js execution context: ${e}`)}}(),function(){try{(C.curationRules&&C.curationRules.length>0||C.placementStats)&&Ct({gamera_signals:"true"})}catch(e){c.error(`while checking for curation rules and placement stats: ${e}`)}}()}()}()}catch(e){R(e)}function It(e){try{switch(pt.sync(),e.type){case i.AD_RENDERED:pt.processNewAdEvent(e.data);break;case i.BID_WON:pt.addWinningBid(e.data);break;case i.PAGE_SCROLL:pt.updatePageScroll();case i.NEW_PAGE:pt.processNewPage();break;case i.CUSTOM:pt.processNewCustomEvent(e.name,e.data);break;case i.ADD_DIMENSIONS:pt.addDimensions(e.data);break;case i.ADD_METRICS:pt.addMetrics(e.data);break;case i.PAGE_REVENUE:pt.addPageRevenue(e.data);break;default:c.warn(`unknown event type: ${e.type}`)}}catch(t){c.error(`while processing ${e.type}: ${t}`),R(t)}}function Pt(e,t){It({type:i.CUSTOM,name:e,data:t})}function Dt(){try{pt.sync(),pt.keepPageAlive()}catch(e){}}function Tt(e){if("auxclick"===e.type&&1!==e.button)return;let t=e.target,n="";for(let e=0;e<=3&&t&&"function"==typeof t.getAttribute;e++){const e=t.getAttribute("data-click");if(null!==e){n=e||t.getAttribute("id");break}t=t.parentNode}n&&Pt("click",{target:n})}function Ct(e){e&&"object"==typeof e&&!Array.isArray(e)?It({type:i.ADD_DIMENSIONS,data:e}):c.error('argument "dimensions" has an invalid type')}function Rt(e){for(let t=0;t<e.length;t++){const n=e[t];window[n]=window[n]||{},window[n].que=window[n].que||[],window[n].que.push((function(){window[n].onEvent("bidWon",(e=>{It({type:i.BID_WON,data:e});const t=window[n].adUnits.find((t=>t.code===e.adUnitCode));t?setTimeout((()=>{ee(t,e)}),0):c.warn(`adUnit not found for adUnitCode: ${e.adUnitCode}`)})),C.collectPbjsSummary&&window[n].onEvent("auctionInit",(e=>{te(e)})),window[n].onEvent("beforeRequestBids",(e=>{c.debug("enriching pbjs bidder params"),Nt(n,e)})),window[n].onEvent("setTargeting",(e=>{Lt()})),window[n].onEvent("auctionEnd",(({adUnitCodes:e})=>{de().filter((t=>-1!==e.indexOf(t.code))).forEach((e=>{_(e,"ortb2Imp.ext.data.gameraId")&&delete e.ortb2Imp.ext.data.gameraId}))}))}))}}function Nt(e,t){if(t&&Array.isArray(t)&&0!==t.length)try{const n=v(),i={};window[e]&&window[e].bidderAlias&&(i=window[e].bidderAlias);const r={},a=ct();t.forEach((e=>{const t=_(e,"ortb2Imp.ext.data.gameraId");(e.bids||[]).forEach((n=>{if("appnexus"!==n.bidder&&"appnexus"!==i[n.bidder]){if("medianet"!==n.bidder&&"medianet"!==i[n.bidder]);else if(t&&Array.isArray(t)&&t.length>0){const e="signals_gamera_medianet";r[e]=(r[e]||0)+1}}else{const t=_(a,`adUnits.${e.code}.ext.data.gameraId`);n.params&&t&&Array.isArray(t)&&t.length>0?(n.params.keywords=n.params.keywords||{},n.params.keywords.gameraId=t,t.forEach((e=>{const t=`signals_${e}_${n.bidder}`;r[t]=(r[t]||0)+1}))):n.params&&n.params.keywords&&n.params.keywords.gameraId&&delete n.params.keywords.gameraId}}));const o=ce(e);if(o&&o.stats){const t=e.bids.filter((e=>"medianet"===e.bidder||"medianet"===i[e.bidder]));t.forEach((e=>{e.ortb2Imp=e.ortb2Imp||{},e.ortb2Imp.ext=e.ortb2Imp.ext||{},e.ortb2Imp.ext.data=e.ortb2Imp.ext.data||{},e.ortb2Imp.ext.data.gameraMetrics={},Object.keys(o.stats).forEach((t=>{const n=o.stats[t];if("number"!=typeof n)return;const i=s[t];i&&(e.ortb2Imp.ext.data.gameraMetrics[i]=n)}));const t=n-it,i=rt(o.viewport),a=(o.renders||0)+1;t>=0&&(e.ortb2Imp.ext.data.gameraMetrics.time_on_page=t),e.ortb2Imp.ext.data.gameraMetrics.viewport_density=i,e.ortb2Imp.ext.data.gameraMetrics.render_sequence=a;const d="signals_pstats_medianet";r[d]=(r[d]||0)+1}))}})),Object.keys(r).length>0&&pt.addPageObservabilityMetrics(r,!0)}catch(e){c.error(`while setting/counting ix enrichments: ${e}`)}}function Lt(){if(!At)return;const e=lt();(X?window.googletag.pubads().getSlots():[]).forEach((t=>{const n=t.getAdUnitPath();if(e[n]){const i=e[n];Object.keys(i).forEach((e=>{t.setConfig({targeting:{[e]:i[e]}})}))}else if(St[n]){const e=St[n];Object.keys(e).forEach((e=>{t.setConfig({targeting:{[e]:null}})}))}})),St=e}})();
(function(){const t=window;t.gamera=t.gamera||{};t.gamera.cmd=t.gamera.cmd||[];t.gamera.publift=t.gamera.publift||{};const o=t.gamera.publift;o.adIdDict={};t.googletag=t.googletag||{};t.googletag.cmd=t.googletag.cmd||[];t.googletag.cmd.push(function(){t.googletag.pubads().addEventListener("slotRenderEnded",function(e){if(!e||e.isEmpty){return}let t=e.slot.getAdUnitPath()||"";t=t.startsWith("/")?t.toLowerCase():"/"+t.toLowerCase();const a=e.slot.getTargeting("hb_adid");if(!a||!a.length){return}const g=a[0];o.adIdDict[g]=t;setTimeout(()=>{delete o.adIdDict[g]},5e3)})});t.fusePbjs=t.fusePbjs||{};t.fusePbjs.que=t.fusePbjs.que||[];t.fusePbjs.que.push(function(){t.fusePbjs.onEvent("bidWon",e=>{setTimeout(()=>{if(!o.adIdDict[e.adId]){t.gamera.cmd.push(function(){t.gamera.addPageRevenue({type:"pbjs",revenue:e.cpm/1e3,currency:e.currency})})}},0)})})})();
    